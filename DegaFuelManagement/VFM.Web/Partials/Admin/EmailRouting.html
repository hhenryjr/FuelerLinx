<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

    <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-3" data-widget-editbutton="false">
        <header>
            <span class="widget-icon"> <i class="fa fa-table"></i> </span>
            <h2>EMAIL ROUTING</h2>
        </header>
        <div ng-if="info.savingEmail">Saving Email</div>
        <div ng-if="!info.savingEmail">
            <div>
                <div class="widget-body no-padding">
                    <table st-table="info.emailRouting" class="table table-striped table-bordered" width="100%">
                        <thead>
                            <tr>
                                <th st-sort="EmailType">Email Type</th>
                                <th st-sort="fromEmail">From</th>
                                <th st-sort="ToEmail">To</th>
                                <th st-sort="BCCEmail">BCC</th>
                                <th st-sort="Subject">Subject</th>
                                <!--<th st-sort="DateAdded">Date Added</th>-->
                            </tr>
                            <tr>
                                <th><input placeholder="Email Type" type="text" st-search="EmailType"></th>
                                <th><input placeholder="From Email" type="text" st-search="FromEmail"></th>
                                <th><input placeholder="To Email" type="text" st-search="ToEmail"></th>
                                <th><input placeholder="BCC Email" type="text" st-search="BCCEmail"></th>
                                <th><input placeholder="Subject" type="text" st-search="Subject"></th>
                                <!--<th><input placeholder="Date Added" type="text" st-search="DateAdded"></th>-->
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="email in info.emailRouting">
                                <td ng-if="!email.Id">
                                    <select ui-select2 chosen ng-model="email.EmailType" ng-options="type for type in info.emailTypes">
                                        <option></option>
                                    </select>
                                </td>
                                <td ng-if="email.Id">{{email.EmailType}}</td>
                                <td ng-if="!email.Id"><input type="text" ng-model="email.FromEmail" /></td>
                                <td ng-if="email.Id">{{email.FromEmail}}</td>
                                <td ng-if="!email.Id"><input type="text" ng-model="email.ToEmail" /></td>
                                <td ng-if="email.Id">{{email.ToEmail}}</td>
                                <td ng-if="!email.Id"><input type="text" ng-model="email.BCCEmail" /></td>
                                <td ng-if="email.Id">{{email.BCCEmail}}</td>
                                <td ng-if="!email.Id"><input type="text" ng-model="email.Subject" /></td>
                                <td ng-if="email.Id">{{email.Subject}}</td>
                                <!--<td>{{email.DateAdded | date: "M/d/yyyy"}}</td>-->
                                <td ng-if="!email.Id"><button class="saveEmail" ng-click="info.saveEmail(email)">Save</button></td>
                                <td><button class="deleteEmail" ng-click="info.deleteEmail(email)">Delete</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <button class="addEmail" ng-click="info.addEmail()">Add Email</button>
        </div>


    </div>
</article>
